<div>
    <h3>{{ song.title }}</h3>
</div>

<table class="table table-hover">
    <thead>
        <tr>
        <th scope="col">Ficheiro</th>
        <th scope="col">Data de Carregamento</th>
        <th scope="col">Download</th>
        <th scope="col" *ngIf="auth.canEdit(auth.user$ | async)">Remover</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let upload of uploads | async">
        <th class="align-middle" scope="row">{{ upload.name }}</th>
        <td class="align-middle">{{ upload.createdAt | date }}</td>
        <td class="align-middle"><a href="{{ upload.url }}" download><button class="btn btn-sm btn-outline-dark">Download</button></a></td>
        <td *ngIf="auth.canEdit(auth.user$ | async)" class="align-middle"><button (click)="removeFile(upload)"class="btn btn-sm btn-outline-danger">Remover</button></td>    
    </tr>
    </tbody>
</table>

<div *ngIf="auth.canEdit(auth.user$ | async)">
    <h5>Carregar Ficheiro</h5>

    <div *ngIf="currentUpload">
        Progresso: <progress class="progress is-success" max=100 value="{{ currentUpload?.progress }}"></progress>
    </div>

    <input [disabled]="currentUpload" type="file" class="button" (change)="detectFiles($event)" accept=".pdf,.mp3">

    <button [disabled]="!selectedFiles || currentUpload" (click)="uploadSingle()" class="btn btn-sm btn-outline-dark">Upload</button>
</div>
